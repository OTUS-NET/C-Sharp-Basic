### Цель
    
Расширение функционала приложения, разработанного в предыдущих домашних заданиях:

- Работа с файлами
- Работа с json
- Синхронизация потоков

---

### Описание

Перед выполнением нужно ознакомится с [Правила отправки домашнего задания на проверку](https://github.com/OTUS-NET/C-Sharp-Basic/blob/main/Homeworks/README.md)

1. Перенос хранения `ToDoItem` данных в файлы
    - Создать класс `FileToDoRepository`, который реализует интерфейс `IToDoRepository`
    - Реализовать хранение `ToDoItem` в отдельных json файлах, сгуппированных по UserId в папках.
        - Имя папки: `"{ToDoItem.User.UserId}"`
        - Имя файла: `"{ToDoItem.Id}.json"`
    - Имя базовой папки нужно получать через конструктор. Папку нужно создавать если её нет.
    - Для хранения данных в файлах использовать json формат. Для этого нужно использовать библиотеку `System.Text.Json` и методы `JsonSerializer.Serialize` `JsonSerializer.Deserialize`. Можно использовать асинхронные варианты. [Документация](https://learn.microsoft.com/ru-ru/dotnet/standard/serialization/)
    - Заменить использование `InMemoryToDoRepository` на `FileToDoRepository` в проекте
2. Перенос хранения `ToDoUser` данных в файлы
    - Создать класс `FileUserRepository`, который реализует интерфейс `IUserRepository`
    - Реализовать хранение `ToDoUser` в отдельных json файлах.
        - Имя файла: `"{ToDoUser.UserId}.json"`
    - Имя базовой папки нужно получать через конструктор. Папку нужно создавать если её нет.
    - Для хранения данных в файлах использовать JSON формат. Для этого нужно использовать библиотеку `System.Text.Json`.
    - Заменить использование `InMemoryUserRepository` на `FileUserRepository` в проекте
3. Добавление синхронизацию для безопасной работы с файлами в многопоточной среде
    - Добавить синхронизацию при работе с файлами. Один поток может работать с файлами пользователя в один момент времени. 
    - Реализовать это нужно через `SemaphoreSlim(1, 1)`. Для каждого `UserId` должен быть свой `SemaphoreSlim`. Использовать нужно асинхронные методы
    - [Документация](https://learn.microsoft.com/ru-ru/dotnet/api/system.threading.semaphoreslim)
4. Индекс для оптимизации удаления `ToDoItem`
    - Добавить в `FileToDoRepository` файл индекс в json формате, в котором хранятся связки `ToDoItemId` и `UserId`
    - Для индекса должен быть отдельный `SemaphoreSlim`
    - Наполнять индекс в методе `FileToDoRepository.Add`
    - Использовать и обновлять индекс в методе `FileToDoRepository.Delete`
    - Если файла индекса нет, то создать файл и накоплнить его актуальными данными через сканирование всех папок

---

### Критерии оценивания

- Пункты 1-2 - 8 баллов
- Пункт 3 - 1 балла
- Пункт 4 - 1 балла

Для зачёта домашнего задания достаточно 8 баллов.